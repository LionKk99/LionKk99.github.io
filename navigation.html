---
layout: null
---
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Side of the Moon - Final Revised</title>
    <style>
        body { margin: 0; padding: 0; background-color: #000; height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center; font-family: 'Helvetica Neue', Arial, sans-serif; overflow: hidden; }
        .scene-container { width: 100%; height: 100%; position: relative; }
        svg { width: 100%; height: 100%; overflow: visible; }

        /* --- 滤镜定义 --- */
        .dissipate-effect { filter: url(#beam-dissipation); }
        .static-grain-effect { filter: url(#static-grain); }

        /* --- 1. 棱镜系统 --- */
        .prism-fill { 
            fill: rgba(12, 12, 12, 0.95); 
            filter: drop-shadow(0 0 30px rgba(255,255,255,0.05)); 
        }
        
        /* 修正：光晕变细 (Thinner Glow) */
        .prism-inner-glow {
            fill: none;
            stroke: rgba(255, 255, 255, 0.5); 
            stroke-width: 20; /* 从 40 减小到 20，更精致 */
            stroke-linejoin: round;
            filter: url(#static-grain) blur(4px);
            mix-blend-mode: screen; 
            opacity: 0.9;
        }
        
        /* 修正：线条加粗 (Thicker Line) */
        .prism-outline { 
            fill: none; 
            stroke: rgba(255, 255, 255, 0.95); 
            stroke-width: 3; /* 从 1.5 增加到 3，更硬朗 */
            stroke-linejoin: round; 
        }

        /* --- 2. 内部光路 (保持噪点质感) --- */
        .internal-wedge {
            fill: url(#internal-gradient);
            pointer-events: none;
            mix-blend-mode: normal; 
            opacity: 0.95;
            filter: url(#beam-dissipation); /* 内部依然保留消散质感 */
        }

        /* --- 3. 入射白光 --- */
        .white-beam {
            stroke: #fff;
            stroke-width: 6; 
            filter: drop-shadow(0 0 15px rgba(255,255,255,1));
            stroke-linecap: round;
        }

        /* --- 4. 外部光谱 (修正：移除蒙版滤镜) --- */
        .spectrum-beam { 
            opacity: 0.9; 
            transition: opacity 0.3s; 
            cursor: pointer; 
            mix-blend-mode: screen;
            /* 关键修改：移除了 filter: url(#beam-dissipation); 
               现在光束是实心的、清晰的 */
        }

        .beam-group:hover .spectrum-beam { 
            opacity: 1; 
            /* 悬停时只增加辉光，不加噪点 */
            filter: drop-shadow(0 0 20px currentColor); 
            z-index: 10; 
        }
        .spectrum-layer:hover .beam-group:not(:hover) .spectrum-beam { opacity: 0.1; }

        /* --- 文字 --- */
        .beam-text { fill: #fff; font-size: 14px; font-weight: 800; letter-spacing: 2px; text-transform: uppercase; opacity: 0; pointer-events: none; transition: all 0.3s; }
        .beam-group:hover .beam-text { opacity: 1; transform: translateX(20px); }

        /* 颜色 */
        .c-red { fill: #ff1a1a; color: #ff1a1a; }
        .c-orange { fill: #ff9900; color: #ff9900; }
        .c-yellow { fill: #ffe600; color: #ffe600; }
        .c-green { fill: #00e600; color: #00e600; }
        .c-blue { fill: #0055ff; color: #0055ff; }
        .c-purple { fill: #8800ff; color: #8800ff; }
    </style>
</head>
<body>

    <div class="scene-container">
        <svg viewBox="0 0 1200 800" id="stage">
            <defs>
                <filter id="beam-dissipation" x="-20%" y="-20%" width="140%" height="140%" color-interpolation-filters="sRGB">
                    <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" result="noise" />
                    <feImage xlink:href="data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='0'%3E%3Cstop offset='35%25' stop-color='white'/%3E%3Cstop offset='100%25' stop-color='black'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23g)'/%3E%3C/svg%3E" 
                             result="mask" preserveAspectRatio="none" />
                    <feComposite in="noise" in2="mask" operator="arithmetic" k1="1" k2="0" k3="0" k4="0" result="weighted-noise" />
                    <feColorMatrix in="weighted-noise" type="matrix" values="0 0 0 0 1 
                                                                           0 0 0 0 1 
                                                                           0 0 0 0 1 
                                                                           0 0 0 1.8 -0.2" result="final-alpha" />
                    <feComposite operator="in" in="SourceGraphic" in2="final-alpha" />
                </filter>

                <filter id="static-grain" x="-20%" y="-20%" width="140%" height="140%">
                    <feTurbulence type="fractalNoise" baseFrequency="1.0" numOctaves="3" result="noise" />
                    <feColorMatrix in="noise" type="matrix" values="0 0 0 0 1 
                                                                  0 0 0 0 1 
                                                                  0 0 0 0 1 
                                                                  1 0 0 0 0" result="mono-noise" />
                    <feComposite operator="in" in="SourceGraphic" in2="mono-noise" />
                </filter>

                <linearGradient id="internal-gradient" x1="0%" y1="50%" x2="100%" y2="50%">
                    <stop offset="0%" style="stop-color:#ffffff; stop-opacity:1" />
                    <stop offset="10%" style="stop-color:#ffffff; stop-opacity:0.9" />
                    <stop offset="25%" style="stop-color:#aaccff; stop-opacity:0.7" /> 
                    <stop offset="45%" style="stop-color:#4a5a70; stop-opacity:0.4" />
                    <stop offset="100%" style="stop-color:#000000; stop-opacity:0" />
                </linearGradient>
            </defs>

            <polygon class="prism-fill" points="600,150 350,650 850,650" />
            
            <polygon class="prism-inner-glow" points="600,150 350,650 850,650" />
            
            <path id="internal-path" class="internal-wedge" d="" />
            
            <polygon class="prism-outline" points="600,150 350,650 850,650" />
            
            <line id="white-beam" x1="-50" y1="550" x2="0" y2="0" class="white-beam" />

            <g class="spectrum-layer">
                <a href="/category/transformer" class="beam-group" data-index="0">
                    <path class="spectrum-beam c-red" d="" />
                    <text class="beam-text">Transformer</text>
                </a>
                <a href="/category/machine-learning" class="beam-group" data-index="1">
                    <path class="spectrum-beam c-orange" d="" />
                    <text class="beam-text">Machine Learning</text>
                </a>
                <a href="/category/math" class="beam-group" data-index="2">
                    <path class="spectrum-beam c-yellow" d="" />
                    <text class="beam-text">Mathematics</text>
                </a>
                <a href="/archives" class="beam-group" data-index="3">
                    <path class="spectrum-beam c-green" d="" />
                    <text class="beam-text">Archives</text>
                </a>
                <a href="/about" class="beam-group" data-index="4">
                    <path class="spectrum-beam c-blue" d="" />
                    <text class="beam-text">About Me</text>
                </a>
                <a href="https://github.com/LionKk99" class="beam-group" data-index="5">
                    <path class="spectrum-beam c-purple" d="" />
                    <text class="beam-text">GitHub</text>
                </a>
            </g>
        </svg>
    </div>

    <script>
        const P_TOP = { x: 600, y: 150 }, P_LEFT = { x: 350, y: 650 }, P_RIGHT = { x: 850, y: 650 };
        const ENTRY_Y = 380, EXIT_CENTER_Y = 380, EXIT_SPREAD = 100;
        const SCREEN_X = 1200, SCREEN_CENTER_Y = 500, SCREEN_SPREAD_IDLE = 200, SCREEN_SPREAD_ACTIVE = 400;
        const LERP = 0.08, HOVER_WEIGHT = 2.5;

        const whiteBeam = document.getElementById('white-beam'), internalPath = document.getElementById('internal-path');
        const groups = document.querySelectorAll('.beam-group'), paths = document.querySelectorAll('.spectrum-beam'), texts = document.querySelectorAll('.beam-text');

        const ENTRY_POINT = { x: (P_TOP.x + (ENTRY_Y - P_TOP.y) * (P_LEFT.x - P_TOP.x) / (P_LEFT.y - P_TOP.y)), y: ENTRY_Y };
        whiteBeam.setAttribute('x2', ENTRY_POINT.x); whiteBeam.setAttribute('y2', ENTRY_POINT.y); whiteBeam.setAttribute('y1', 500);

        let currentWeights = [1, 1, 1, 1, 1, 1], targetWeights = [1, 1, 1, 1, 1, 1];

        function animate() {
            let totalWeight = 0;
            for (let i = 0; i < 6; i++) {
                currentWeights[i] = currentWeights[i] + (targetWeights[i] - currentWeights[i]) * LERP;
                totalWeight += currentWeights[i];
            }

            const ratio = (totalWeight - 6) / (HOVER_WEIGHT + 5 - 6);
            const curSpread = SCREEN_SPREAD_IDLE + (SCREEN_SPREAD_ACTIVE - SCREEN_SPREAD_IDLE) * ratio;

            let curExitY = EXIT_CENTER_Y - EXIT_SPREAD / 2;
            let curScreenY = SCREEN_CENTER_Y - curSpread / 3.5;

            for (let i = 0; i < 6; i++) {
                const wf = currentWeights[i] / totalWeight;
                const h_ex = wf * EXIT_SPREAD, h_sc = wf * curSpread;
                const x_ex_t = P_TOP.x + (curExitY - P_TOP.y) * (P_RIGHT.x - P_TOP.x) / (P_RIGHT.y - P_TOP.y);
                const x_ex_b = P_TOP.x + (curExitY + h_ex - P_TOP.y) * (P_RIGHT.x - P_TOP.x) / (P_RIGHT.y - P_TOP.y);

                paths[i].setAttribute('d', `M ${x_ex_t} ${curExitY} L ${SCREEN_X} ${curScreenY} L ${SCREEN_X} ${curScreenY + h_sc} L ${x_ex_b} ${curExitY + h_ex} Z`);
                texts[i].setAttribute('x', SCREEN_X - 250);
                texts[i].setAttribute('y', curScreenY + h_sc / 2 + 5);

                curExitY += h_ex; curScreenY += h_sc;
            }

            const p_w_t = P_TOP.x + (EXIT_CENTER_Y - EXIT_SPREAD / 2 - P_TOP.y) * (P_RIGHT.x - P_TOP.x) / (P_RIGHT.y - P_TOP.y);
            const p_w_b = P_TOP.x + (curExitY - P_TOP.y) * (P_RIGHT.x - P_TOP.x) / (P_RIGHT.y - P_TOP.y);
            internalPath.setAttribute('d', `M ${ENTRY_POINT.x} ${ENTRY_POINT.y} L ${p_w_t} ${EXIT_CENTER_Y - EXIT_SPREAD / 2} L ${p_w_b} ${curExitY} Z`);

            requestAnimationFrame(animate);
        }

        groups.forEach(group => {
            const idx = parseInt(group.getAttribute('data-index'));
            group.addEventListener('mouseenter', () => { for (let i = 0; i < 6; i++) targetWeights[i] = (i === idx) ? HOVER_WEIGHT : 1; });
            group.addEventListener('mouseleave', () => { for (let i = 0; i < 6; i++) targetWeights[i] = 1; });
        });
        animate();
    </script>
</body>
</html>